<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crear Prompt - Admin</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            background-color: #f8f9fa;
            padding-top: 40px;
        }
        .container {
            max-width: 800px;
        }
        textarea {
            font-family: monospace;
            font-size: 14px;
        }
        .alert {
            margin-bottom: 20px;
        }
    </style>
</head>
<body>

<div class="container">
    <h1 class="text-center mb-4">âœ¨ Crear Nuevo Prompt para TutorÃ­a</h1>

    <!-- ğŸ‘‡ MOSTRAR MENSAJES FLASH (CLAVE DE ACCESO Y ERRORES) -->
    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            {% for category, message in messages %}
                <div class="alert alert-{{ 'danger' if category == 'danger' else 'success' }} alert-dismissible fade show" role="alert">
                    {{ message }}
                    <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                </div>
            {% endfor %}
        {% endif %}
    {% endwith %}

    <form method="post" class="p-4 bg-white rounded shadow">
        <div class="mb-3">
            <label for="student_email" class="form-label">ğŸ“§ Email del Alumno *</label>
            <input type="email" id="student_email" name="student_email" class="form-control" required placeholder="ejemplo@estudiante.edu">
        </div>

        <div class="mb-3">
            <label for="topic" class="form-label">ğŸ“š Tema *</label>
            <input type="text" id="topic" name="topic" class="form-control" required placeholder="MatemÃ¡ticas - Ecuaciones Lineales">
        </div>

        <div class="mb-3">
            <label for="prompt_content" class="form-label">ğŸ’¬ Contenido del Prompt (Instrucciones para la IA) *</label>
            <textarea id="prompt_content" name="prompt_content" class="form-control" rows="6" required placeholder="Eres un tutor experto en matemÃ¡ticas. Explica paso a paso cÃ³mo resolver cualquier ejercicio. Usa lenguaje amable y claro.">
            </textarea>
        </div>

        <div class="mb-3">
            <label for="exercises_text" class="form-label">ğŸ“ Ejercicios (uno por lÃ­nea, en orden creciente de dificultad)</label>
            <textarea id="exercises_text" name="exercises_text" class="form-control" rows="8" placeholder="Resuelve: 2x + 3 = 7
Resuelve: 5(x - 2) = 3x + 4
Encuentra x si 3xÂ² - 12 = 0"></textarea>
            <small class="text-muted">Cada ejercicio debe estar en una lÃ­nea separada.</small>
        </div>

        <button type="submit" class="btn btn-primary btn-lg w-100">âœ… Generar Clave y Guardar Prompt</button>
    </form>

    <div class="mt-5 text-center text-muted">
        <small>ğŸ”’ Solo accesible para administradores</small>
    </div>
</div>

<!-- Bootstrap JS Bundle with Popper -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>